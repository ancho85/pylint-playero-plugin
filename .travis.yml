language: python
python:
  - "2.7"
  - "2.6"
# command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
install: pip install -r requirements.txt
# command to run tests, e.g. python setup.py test
before_script:
  - mysql -uroot -e "create database IF NOT EXISTS playero;"
  - mysql -uroot -e "CREATE TABLE playero.Alotment (TransTime time NULL DEFAULT NULL, ToSerNr int(11) NULL DEFAULT NULL, SerNr  int(11) NULL DEFAULT NULL, ShiftDate  date NULL DEFAULT NULL, Invalid  tinyint(1) NULL DEFAULT NULL, Department  varchar(20) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, Status  int(11) NULL DEFAULT NULL, StartDate  date NULL DEFAULT NULL, EndDate  date NULL DEFAULT NULL, attachFlag  tinyint(1) NULL DEFAULT NULL, DueDays  int(11) NULL DEFAULT NULL, syncVersion  int(11) NULL DEFAULT NULL, CustName  varchar(60) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, Printed  tinyint(1) NULL DEFAULT NULL, User  varchar(10) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, PosEventNr  int(11) NULL DEFAULT NULL, internalId  int(11) NOT NULL, Shift  varchar(5) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, OriginNr  int(11) NULL DEFAULT NULL, OriginType  int(11) NULL DEFAULT NULL, Comment  varchar(100) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, TransDate  date NULL DEFAULT NULL, Office  varchar(10) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, Synchronized  tinyint(1) NULL DEFAULT NULL, Labels  varchar(60) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, Computer  varchar(5) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, CustCode  varchar(20) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, PrintedTimes  int(11) NULL DEFAULT NULL, PRIMARY KEY (internalId) ) ENGINE=InnoDB DEFAULT CHARACTER SET=latin1 COLLATE=latin1_general_cs;"
  - mysql -uroot -e "CREATE TABLE playero.AlotmentRow ( RoomType  varchar(10) CHARACTER SET latin1 COLLATE latin1_general_cs NULL DEFAULT NULL, rowNr  int(11) NULL DEFAULT NULL, masterId  int(11) NULL DEFAULT NULL, internalId  int(11) NOT NULL, Qty  int(11) NULL DEFAULT NULL, PRIMARY KEY (internalId) ) ENGINE=InnoDB DEFAULT CHARACTER SET=latin1 COLLATE=latin1_general_cs  ;"
  - mysql -uroot -e "CREATE INDEX masterId USING BTREE ON playero.AlotmentRow(masterId, rowNr, internalId);"
script:  nosetests
